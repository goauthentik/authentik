---
title: Release 2024.next
slug: "/releases/2024.next"
---

:::::note
2024.next has not been released yet! We're publishing these release notes as a preview of what's to come, and for our awesome beta testers trying out release candidates.

To try out the release candidate, replace your Docker image tag with the latest release candidate number, such as 2024.next.0-rc1. You can find the latest one in [the latest releases on GitHub](https://github.com/goauthentik/authentik/releases). If you don't find any, it means we haven't released one yet.
:::::

## Breaking changes

### PostgreSQL minimum supported version upgrade

authentik now requires PostgreSQL version 14 or later. We recommend upgrading to the latest version if you are running an older version.

The provided Helm chart defaults to PostgreSQL 15. If you are using the Helm chart with the default values, no action is required.

The provided docker-compose file was updated with PostgreSQL 16. You can follow the procedure below to upgrade.

#### docker-compose PostgreSQL upgrade instructions

1. Dump your existing database with `docker compose exec postgresql pg_dump -U authentik -d authentik -C > upgrade_backup_12.sql`.
2. Stop all services with `docker compose down`.
3. Take a backup of your existing database incase something goes wrong.
    - If you use Docker volumes: `docker volume create authentik_database_backup && docker run --rm -v authentik_database:/from -v authentik_database_backup:/to alpine sh -c 'cd /from && cp -a . /to'`. You can find the name of the `authentik_database` volume with `docker volume ls`.
    - If your data is a file path: `cp -a /path/to/v12-data /path/to/v12-backup`
4. Remove the existing data. **Do not execute this step without checking that step 3 completed successfully**
    - If you use Docker volumes: `docker volume rm -f authentik_database`.
    - If your data is a file path: `rm -rf /path/to/v12-data`
5. Apply the following modifications to your postgresql service:
    - Update the image from `docker.io/library/postgres:12-alpine` to `docker.io/library/postgres:16-alpine`.
    - Add `network_mode: none` to prevent connections being established to the database during the upgrade.
6. Pull new images and re-create the postgresql container: `docker compose pull && docker compose up --force-recreate -d postgresql`
7. Apply your backup to the new database: `cat upgrade_backup_12.sql | docker compose exec postgresql psql -U authentik`
8. Remove the network configuration you made in step 5.
9. Start authentik again: `docker compose up --force-recreate -d`

## New features

## Upgrading

authentik now requires PostgreSQL version 14 or later. We recommend upgrading to the latest version if needed. Follow the instructions above if you need to upgrade PostgreSQL with docker-compose.

### docker-compose

To upgrade, download the new docker-compose file and update the Docker stack with the new version, using these commands:

```shell
wget -O docker-compose.yml https://goauthentik.io/version/2024.next/docker-compose.yml
docker compose up -d
```

The `-O` flag retains the downloaded file's name, overwriting any existing local file with the same name.

### Kubernetes

Upgrade the Helm Chart to the new version, using the following commands:

```shell
helm repo update
helm upgrade authentik authentik/authentik -f values.yaml --version ^2024.next
```

## Minor changes/fixes

<!-- _Insert the output of `make gen-changelog` here_ -->

## API Changes

<!-- _Insert output of `make gen-diff` here_ -->
