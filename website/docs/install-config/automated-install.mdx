---
title: Automated install
---

To install authentik automatically (skipping the Out-of-box experience), you can use the following environment variables on the worker container:

### `AUTHENTIK_BOOTSTRAP_PASSWORD_HASH`

Configure the default password for the `akadmin` user using a pre-hashed password. Only read on the first startup.

To generate a hash, run this command before your initial deployment:

```bash
docker compose run --rm server hash_password 'your-password'
```

:::warning Docker Compose
When using Docker Compose with a `.env` file, escape the `$` characters in the password hash by doubling them (`$$`):

```bash
# .env file
# Original hash: pbkdf2_sha256$1000000$3emW1FZkrfjCKYpndtaYPQ$OZNNrcCc+cZ+paHV+kGRAOENTg5+Xny/de1/dNTgfg0=
AUTHENTIK_BOOTSTRAP_PASSWORD_HASH="pbkdf2_sha256$$1000000$$3emW1FZkrfjCKYpndtaYPQ$$OZNNrcCc+cZ+paHV+kGRAOENTg5+Xny/de1/dNTgfg0="
```

This prevents Docker Compose from interpreting `$` as variable references.
:::

### `AUTHENTIK_BOOTSTRAP_PASSWORD`

:::warning
This option stores plaintext passwords in environment variables. Use [`AUTHENTIK_BOOTSTRAP_PASSWORD_HASH`](#authentik_bootstrap_password_hash) instead.
:::

Configure the default password for the `akadmin` user. Only read on the first startup.

Setting both `AUTHENTIK_BOOTSTRAP_PASSWORD` and `AUTHENTIK_BOOTSTRAP_PASSWORD_HASH` will result in an error.

### `AUTHENTIK_BOOTSTRAP_TOKEN`

Create a token for the default `akadmin` user. Only read on the first startup. The string you specify for this variable is the token key you can use to authenticate yourself to the API.

### `AUTHENTIK_BOOTSTRAP_EMAIL`

Set the email address for the default `akadmin` user.

## Kubernetes

In the Helm values, set the `akadmin` user password hash and token:

```yaml
authentik:
    bootstrap_password_hash: "pbkdf2_sha256$1000000$DaAizdSoYbkGij6fQCWNFz$mPlLYxD9/kkmVcXFKqGREe9+/t7MRoLTQhOdKK7XpSU="
    bootstrap_token: "your-token-here"
    bootstrap_email: "admin@authentik.company"
```

:::note Helm escaping
When using password hashes in quoted YAML strings as shown above, no escaping of `$` characters is required. The `$` character only needs escaping when:

- Using Helm templating syntax (e.g., `{{ .Values.something }}`) where `$` has special meaning
- Referencing values from environment variable substitution in your values file
:::

Or store the password hash in a secret and reference it via `envFrom`:

```yaml
global:
    envFrom:
        - secretRef:
              name: _some-secret_
```

where _some-secret_ contains the environment variables as documented above.
