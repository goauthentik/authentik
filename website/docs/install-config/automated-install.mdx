---
title: Automated install
---

To install authentik automatically (skipping the Out-of-box experience), you can use the following environment variables on the worker container:

### `AUTHENTIK_BOOTSTRAP_PASSWORD`

:::note
For improved security, consider using a [hashed password](#authentik_bootstrap_password_hash) to avoid storing plaintext passwords in environment variables.
:::

Configure the default password for the `akadmin` user. Only read on the first startup. Can be used for any flow executor.

### `AUTHENTIK_BOOTSTRAP_PASSWORD_HASH`

Configure the default password for the `akadmin` user using a pre-hashed password. Only read on the first startup.

This is useful when you want to avoid storing plaintext passwords in environment variables or configuration files.

To generate a hash, run this command before your initial deployment:

```bash
# In local development environment
uv run ak hash_password your-password

# Or using a temporary Docker container
docker run --rm -it ghcr.io/goauthentik/server:<The latest release at this time> ak hash_password your-password

# Or on an existing authentik installation
docker exec -it authentik-worker ak hash_password your-password
```

If both `AUTHENTIK_BOOTSTRAP_PASSWORD` and `AUTHENTIK_BOOTSTRAP_PASSWORD_HASH` are set, the hash takes precedence.

:::warning Docker Compose
When using Docker Compose with a `.env` file, escape the `$` characters in the password hash by doubling them (`$$`):

```bash
# .env file
# Original hash: pbkdf2_sha256$1000000$3emW1FZkrfjCKYpndtaYPQ$OZNNrcCc+cZ+paHV+kGRAOENTg5+Xny/de1/dNTgfg0=
AUTHENTIK_BOOTSTRAP_PASSWORD_HASH="pbkdf2_sha256$$1000000$$3emW1FZkrfjCKYpndtaYPQ$$OZNNrcCc+cZ+paHV+kGRAOENTg5+Xny/de1/dNTgfg0="
```

This prevents Docker Compose from interpreting `$` as variable references.
:::

:::danger
Do not use the example hashes shown in this documentation. Always generate your own hash using the commands above.
:::

### `AUTHENTIK_BOOTSTRAP_TOKEN`

Create a token for the default `akadmin` user. Only read on the first startup. The string you specify for this variable is the token key you can use to authenticate yourself to the API.

### `AUTHENTIK_BOOTSTRAP_EMAIL`

Set the email address for the default `akadmin` user.

## Kubernetes

In the Helm values, set the `akadmin` user password and token:

```yaml
authentik:
    bootstrap_token: test
    bootstrap_password: test
```

To store the password and token in a secret, use:

```yaml
global:
    envFrom:
        - secretRef:
              name: _some-secret_
```

where _some-secret_ contains the environment variables as in the documentation above.

### Using password hash with Helm values

For improved security, you can use a pre-hashed password directly in your Helm values:

```yaml
authentik:
    bootstrap_password_hash: "pbkdf2_sha256$1000000$3emW1FZkrfjCKYpndtaYPQ$OZNNrcCc+cZ+paHV+kGRAOENTg5+Xny/de1/dNTgfg0="
    bootstrap_email: "admin@example.com"
```

:::note Helm escaping
When using password hashes in quoted YAML strings as shown above, no escaping of `$` characters is required. The `$` character only needs escaping when:

- Using Helm templating syntax (e.g., `{{ .Values.something }}`) where `$` has special meaning
- Referencing values from environment variable substitution in your values file
  :::

Or store the password hash in a secret and reference it via `envFrom` (same method as shown above for storing password and token in a secret).
