---
title: Air-gapped environments
---

import TabItem from "@theme/TabItem";
import Tabs from "@theme/Tabs";

## Outbound connections

By default, authentik creates outbound connections to the following URLs:

- https://version.goauthentik.io: Periodic update check
- https://goauthentik.io: Anonymous analytics on startup
- https://secure.gravatar.com: Avatars for users
- https://authentik.error-reporting.a7k.io: Error reporting
- https://tile.openstreetmap.org: Map tiles for event logs :ak-enterprise :ak-version[2025.8]

## Configuration

To disable these outbound connections, adjust the following settings:

<Tabs
  defaultValue="docker-compose"
  values={[
    {label: 'docker-compose', value: 'docker-compose'},
    {label: 'Kubernetes', value: 'kubernetes'},
  ]}>
  <TabItem value="docker-compose">

Add the following block to your `.env` file:

```shell
AUTHENTIK_DISABLE_STARTUP_ANALYTICS=true
AUTHENTIK_DISABLE_UPDATE_CHECK=true
AUTHENTIK_ERROR_REPORTING__ENABLED=false
```

Afterwards, run the upgrade commands from the latest release notes.

  </TabItem>
  <TabItem value="kubernetes">

Add the following block to your `values.yml` file:

```yaml
authentik:
    error_reporting:
        enabled: false
    disable_update_check: true
    disable_startup_analytics: true
```

Afterwards, run the upgrade commands from the latest release notes.

  </TabItem>
</Tabs>

Additionally, adjust the following [System settings](../sys-mgmt/settings.md):

- **Avatars**: By default this setting uses [Gravatar](https://secure.gravatar.com/). Set it to a combination of other options, such as `initials`

## Required resources

### Container images

For a complete air-gapped deployment, you'll need access to these container images. This can be achieved by mirroring them to an internal registry, allowing specific external connections through your firewall, or using other methods appropriate for your environment.

#### Main image

- `ghcr.io/goauthentik/server`

#### Outpost images

- `ghcr.io/goauthentik/ldap`
- `ghcr.io/goauthentik/proxy`
- `ghcr.io/goauthentik/rac`
- `ghcr.io/goauthentik/radius`

#### Supporting services

- PostgreSQL
- Redis

### Helm repositories

For Helm deployments, ensure access to:

- https://charts.goauthentik.io

## Network requirements

### Required ports

- **9000/9443**: Default authentik server ports for HTTP/HTTPS access
- **80/443**: For reverse proxy setups (if using a load balancer or ingress controller)
- **SMTP ports**: Connectivity to your configured SMTP server (typically 25, 465, or 587)
- **S3/object storage**: If configured, connectivity to your S3-compatible storage

### Outpost-specific ports

Each outpost type requires specific ports:

- **LDAP Outpost**: Port 389 (LDAP) and 636 (LDAPS)
- **Proxy Outpost**: Port 9000/9443 (HTTP/HTTPS)
- **RAC Outpost**: Port 9000/9443 (HTTP/HTTPS)
- **RADIUS Outpost**: Port 1812 (RADIUS Authentication)

For more detailed information about outpost configuration in air-gapped environments, see the [Outposts documentation](../add-secure-apps/outposts/index.mdx).
