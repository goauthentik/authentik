---
title: Upgrade authentik
---

Upgrading to the latest version of authentik, whether a new major release or a patch, involves running a few commands to pull down the latest images and then restart the servers and databases.

For information about a specific version, refer to our [Release Notes](../releases/).

:::warning

-   Be sure to make a backup of your databases before upgrading.

-   The version of the authentik instance and any outposts must be the same. We recommended that you always upgrade any outposts at the same time you upgrade your authentik instance.
:::

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

<Tabs groupId="platform">
  <TabItem value="docker-compose" label="Docker Compose" default>
    In your terminal, navigate to your installation directory and follow these steps:

    #### 1. Retrieve latest `docker-compose.yml` file

    -   Linux: `wget -O docker-compose.yml https://goauthentik.io/docker-compose.yml`

        The `-O` flag retains the downloaded file's name, overwriting any existing local file with the same name.

    -   MacOS: `curl -O https://goauthentik.io/docker-compose.yml`

    **2. Run upgrade commands**

    ```shell
    docker compose pull
    docker compose up -d
    ```

  </TabItem>
<TabItem value="kubernetes" label="Kubernetes">
    In your terminal, navigate to your installation directory and run the following commands:

    ```
    helm repo update
    helm upgrade authentik authentik/authentik -f values.yaml
    ```

  </TabItem>
</Tabs>

## Verify your upgrade

You can view the current version of your authentik instance by logging in to the Admin interface, and then navigating to **Dashboards -> Overview**.

![](./version1.png)

## Troubleshooting your upgrade

<Tabs groupId="platform">
  <TabItem value="docker-compose" label="Docker Compose" default>
    If you run the upgrade commands but your version on the Dashboard doesn’t change, you might need to make sure the old `authinstall database` is removed before upgrading.

    Run `docker compose down -v`.

    CAUTION: Be aware that this command purges the Docker volumes (which hold the instance's data).

  </TabItem>
  <TabItem value="kubernetes" label="Kubernetes">
    If you run the upgrade commands but your version on the Dashboard doesn’t change, follow these steps:

    1.  Run `helm repo add authentik https://charts.goauthentik.io`
    2.  Then run `kubectl rollout restart deployment` to force the system to pick up the latest version.
    3.  Finally, run the upgrade commands again:
        ```
        helm repo update
        helm upgrade --install authentik authentik/authentik -f values.yaml
        ```

  </TabItem>
</Tabs>
